# 配图动态数量指南（微信公众号）

> **适用范围**: wechat-content-generator
> **更新日期**: 2026-02-04
> **版本**: v1.0

---

## 一、核心原则

**配图数量应该根据内容结构动态调整,而不是固定数量**

**原因**:
- 长文格式的正文段落数量不固定
- 每个知识点段落都应该有对应的配图
- 固定数量会导致配图不足或冗余

---

## 二、配图数量规则

### 长文格式

**封面图**: 1张
- 尺寸: 2.35:1 (900×383像素)
- 风格: 根据通篇内容选择
- 要求: 吸睛、主题明确

**正文配图**: N张 (N = 正文知识点段落数)
- 尺寸: 16:9 (900×506像素)
- 风格: 根据对应段落内容选择
- 要求: 与段落内容对应

**计算方法**:
```python
# 伪代码
content_sections = extract_knowledge_sections(content)
image_count = 1 (封面) + len(content_sections) (正文)
```

**示例**:
```
内容结构:
- 引言
- 知识点1: 多肉浇水方法
- 知识点2: 光照要求
- 知识点3: 土壤选择
- 知识点4: 常见问题
- 总结

配图数量:
- 封面: 1张
- 正文: 4张 (对应4个知识点段落)
- 总计: 5张
```

### 图文格式

**封面图**: 1张
- 尺寸: 3:4竖版 (1080×1440像素)
- 风格: 根据通篇内容选择

**正文配图**: 5张 (固定)
- 尺寸: 3:4竖版 (1080×1440像素)
- 风格: 根据对应段落内容选择

**为什么图文格式是固定数量**:
- 图文格式更像小红书的图文笔记
- 5张图是最佳的视觉体验
- 图文格式的内容通常较短,5张图足够

---

## 三、执行流程

### Step 1: 判断内容格式

**判断依据**:
- 字数 > 1500字 → 长文格式
- 字数 ≤ 1500字 → 图文格式

### Step 2: 提取知识点段落（长文格式）

**提取方法**:
```python
# 伪代码
def extract_knowledge_sections(content):
    sections = []
    # 识别标题或段落分隔
    for section in content.split('\n\n'):
        if is_knowledge_section(section):
            sections.append(section)
    return sections
```

**知识点段落的特征**:
- 有明确的小标题
- 包含具体的方法/步骤/建议
- 不是引言或总结

### Step 3: 计算配图数量

**长文格式**:
```
配图数量 = 1 (封面) + len(知识点段落)
```

**图文格式**:
```
配图数量 = 1 (封面) + 5 (正文)
```

### Step 4: 生成配图

**配图与段落对应**:
- 封面图: 通篇内容的视觉概括
- 正文配图1: 对应知识点段落1
- 正文配图2: 对应知识点段落2
- ...

**配图 prompt 生成**:
- 从对应段落中提取视觉元素
- 选择合适的风格
- 确保与段落内容一致

---

## 四、配图风格选择

### 封面图风格

**选择依据**: 通篇内容的主题和调性

**常见风格**:
- 真实感照片: 养护教程、实操指南
- 手绘风格: 科普知识、轻松话题
- 信息图表: 对比分析、数据展示

### 正文配图风格

**选择依据**: 对应段落的内容类型

**风格映射**:
| 段落内容类型 | 推荐风格 | 原因 |
|------------|---------|------|
| 操作步骤 | 真实感照片 | 直观、易理解 |
| 知识科普 | 手绘风格 | 轻松、不枯燥 |
| 对比分析 | 信息图表 | 清晰、有条理 |
| 案例分享 | 真实感照片 | 真实、有代入感 |
| 注意事项 | 手绘风格 | 温和、不说教 |

---

## 五、执行检查清单

生成配图前,确认:
- [ ] 已判断内容格式（长文/图文）
- [ ] 已提取知识点段落（长文格式）
- [ ] 已计算配图数量
- [ ] 封面图风格根据通篇内容选择
- [ ] 正文配图风格根据对应段落选择
- [ ] 每张配图都有对应的段落内容
- [ ] 配图数量与知识点段落数量一致（长文格式）

---

## 六、常见问题

**Q: 如果长文格式只有2个知识点段落,配图会不会太少?**
A: 不会。配图数量应该与内容结构匹配,而不是追求数量。如果只有2个知识点,3张图（1封面+2正文）是合理的。

**Q: 如果长文格式有10个知识点段落,配图会不会太多?**
A: 不会。每个知识点都应该有对应的配图,这样读者阅读体验更好。如果担心太多,可以考虑合并一些知识点。

**Q: 图文格式为什么不能动态调整配图数量?**
A: 图文格式更像小红书的图文笔记,5张图是最佳的视觉体验。如果内容较短,可以用意境图或总结图补充。

**Q: 如何判断一个段落是否是"知识点段落"?**
A: 看是否包含具体的方法/步骤/建议。引言、总结、过渡段落不算知识点段落。

---

## 七、示例

### 示例1: 长文格式（4个知识点）

**内容结构**:
```
标题: 多肉养护完全指南

引言: 多肉植物因其可爱的外形和易养护的特点...

## 1. 浇水方法
[具体内容]

## 2. 光照要求
[具体内容]

## 3. 土壤选择
[具体内容]

## 4. 常见问题
[具体内容]

总结: 掌握这4个要点,你也能养好多肉...
```

**配图数量**: 5张
- 封面: 1张（多肉植物整体氛围图）
- 正文: 4张（对应4个知识点）

### 示例2: 长文格式（7个知识点）

**内容结构**:
```
标题: 办公室绿植养护全攻略

引言: 办公室环境特殊,养护绿植需要注意...

## 1. 耐阴植物推荐
## 2. 浇水频率
## 3. 施肥技巧
## 4. 病虫害防治
## 5. 换盆时机
## 6. 摆放位置
## 7. 常见问题

总结: ...
```

**配图数量**: 8张
- 封面: 1张
- 正文: 7张

### 示例3: 图文格式

**内容结构**:
```
标题: 5个新手友好的多肉品种

简介: 这5个品种特别适合新手...

1. 白牡丹
2. 黑法师
3. 虹之玉
4. 姬胧月
5. 观音莲

总结: ...
```

**配图数量**: 6张（固定）
- 封面: 1张
- 正文: 5张（对应5个品种）

---

## 八、相关文件

- 微信配图指南: `/Users/dj/Desktop/小静的skills/wechat-content-generator/knowledge/wechat-image-prompt-guide.md`
- 全局配图规则: CLAUDE.md 中的"规则2: 全平台配图强制要求"
- 配图生成脚本: `/Users/dj/Desktop/小静的skills/wechat-content-generator/scripts/generate_images.py`
