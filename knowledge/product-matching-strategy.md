# 商品匹配策略指南

> **适用范围**: 所有内容生成类 Skills (xiaohongshu-content-generator, wechat-content-generator, video-script-generator)
> **更新日期**: 2026-02-04
> **版本**: v1.0

---

## 一、核心原则

**重大修正**: 商品匹配是**选品策略**,不是**内容策略**

**执行条件**:
- ❌ 原规则: 用户明确要求商品植入时执行
- ✅ 新规则: **无条件执行**（所有阶段都必须执行）

**原因**:
- 商品匹配的目的是**选品和记录**,为未来的转化做准备
- 即使起号期不在内容中提及商品,也需要记录哪些商品适合这个选题
- 积累商品-内容关联数据,为成长期和成熟期做准备

---

## 二、执行流程

### Step 8.1: 查询已有商品信息

**查询优先策略**: 先查询本地商品库,避免重复搜索

**查询来源**:
1. **统一商品记录 Excel** (优先)
   - 路径: `/Users/dj/Desktop/全域自媒体运营/商品库/内容关联商品记录.xlsx`
   - 查询方式: 根据选题关键词匹配商品名称、类别、标签

2. **有赞商品库** (备选)
   - 使用 `product-catalog` skill
   - 查询方式: 关键词搜索

**查询逻辑**:
```python
# 伪代码
keywords = extract_keywords_from_topic(topic)
matched_products = search_excel(keywords)

if matched_products:
    return matched_products  # 直接使用已有商品
else:
    # 继续 Step 8.2
```

### Step 8.2: 判断是否需要网络搜索

**判断条件**:
- 本地商品库没有匹配结果 → 需要网络搜索
- 本地商品库有匹配,但商品信息不完整 → 需要补充搜索
- 本地商品库有匹配,且信息完整 → 跳过网络搜索

### Step 8.3: 网络搜索（条件执行）

**执行条件**: Step 8.2 判断需要搜索时才执行

**搜索策略**:
1. 使用 WebSearch 搜索商品信息
2. 搜索关键词: `[选题关键词] + 商品推荐 + 价格 + 购买渠道`
3. 提取商品信息:
   - 商品名称
   - 商品类别
   - 价格区间
   - 购买渠道 (有赞/1688/淘宝等)
   - 商品特点/卖点

### Step 8.4: 追加新商品到 Excel

**操作**: 将新搜索到的商品信息追加到统一商品记录 Excel

**Excel 格式**:
| 列名 | 说明 | 示例 |
|------|------|------|
| 商品ID | 自动生成 | P001 |
| 商品名称 | 完整名称 | 多肉植物组合盆栽 |
| 商品类别 | 分类 | 多肉植物 |
| 价格区间 | 价格范围 | 29-59元 |
| 购买渠道 | 来源 | 有赞商城 |
| 商品标签 | 关键词 | 新手友好,耐旱,室内 |
| 关联选题 | 适合的内容主题 | 多肉养护,新手入门 |
| 添加日期 | 记录时间 | 2026-02-04 |
| 使用次数 | 被内容提及次数 | 3 |
| 最后使用 | 最近一次使用日期 | 2026-02-04 |

**使用脚本**: `/Users/dj/Desktop/小静的skills/_shared_scripts/append_product_record.py`

### Step 8.5: 根据账号阶段决定内容策略

**重要**: 商品匹配执行完成后,根据账号阶段决定是否在内容中提及商品

#### 起号期 (0-500粉)

**商品策略**:
- ✅ 执行商品匹配（选品）
- ✅ 记录商品信息到 Excel
- ❌ **不在内容中提及商品**

**原因**:
- 起号期的核心目标是**建立信任**
- 过早推荐商品会降低信任度
- 但需要记录商品信息,为未来做准备

**内容要求**:
- 100% 价值输出
- 纯干货,无商品植入
- 客观、中性、专业

#### 成长期 (500-2000粉)

**商品策略**:
- ✅ 执行商品匹配
- ✅ 在内容中软植入（1-2段）
- ✅ 可以提价格
- ✅ 评论区引导

**植入方式**:
```
示例1（自然提及）:
"我自己养的这盆多肉就是XX品种,养了3个月状态很好。"

示例2（经验分享）:
"新手可以选择XX这类品种,价格在30-50元,比较好养活。"
```

**注意事项**:
- 植入要自然,不能生硬
- 以分享经验为主,不是推销
- 可以提价格,但要客观对比

#### 成熟期 (2000+粉)

**商品策略**:
- ✅ 执行商品匹配
- ✅ 可挂链接
- ✅ 可说价格
- ✅ 可直接推荐

**推荐方式**:
```
示例1（直接推荐）:
"这款多肉组合我自己也在用,新手友好,价格实惠。
有需要的可以看评论区链接。"

示例2（对比推荐）:
"市面上XX品种价格在50-100元,我推荐的这款性价比更高,
只要39元,品质也不错。"
```

**注意事项**:
- 即使可以直接推荐,也要保持客观
- 避免夸张和虚假承诺
- 提供真实的使用体验

---

## 三、商品信息存储

### 统一存储位置

**路径**: `/Users/dj/Desktop/全域自媒体运营/商品库/内容关联商品记录.xlsx`

**为什么用 Excel 而不是 JSON**:
- Excel 更直观,方便查看和编辑
- 支持筛选、排序、统计
- 可以导出为其他格式
- 方便与其他工具集成

### 数据结构

参考 Step 8.4 的 Excel 格式

### 管理脚本

**脚本路径**: `/Users/dj/Desktop/小静的skills/_shared_scripts/append_product_record.py`

**功能**:
- 追加新商品记录
- 查询商品（根据关键词）
- 更新使用次数
- 去重检查

---

## 四、执行检查清单

执行 Step 8 前,确认:
- [ ] 已提取选题关键词
- [ ] 已查询统一商品记录 Excel
- [ ] 已判断是否需要网络搜索
- [ ] 已执行网络搜索（如果需要）
- [ ] 已追加新商品到 Excel（如果有新商品）
- [ ] 已根据账号阶段决定内容策略
- [ ] 已在内容中正确处理商品信息（提及/不提及）

---

## 五、常见问题

**Q: 为什么起号期也要执行商品匹配?**
A: 商品匹配是选品策略,不是内容策略。即使不在内容中提及,也需要记录商品信息,为未来做准备。

**Q: 如果本地商品库已经有匹配的商品,还需要网络搜索吗?**
A: 不需要。查询优先策略就是为了避免重复搜索,节省时间和资源。

**Q: 商品信息存储在 Excel 中,如何在代码中读取?**
A: 使用 `pandas` 库读取 Excel 文件,或使用提供的管理脚本。

**Q: 如果用户明确说"不要商品植入",还需要执行 Step 8 吗?**
A: 需要。执行商品匹配和记录,但在 Step 8.5 中选择"不在内容中提及"。

---

## 六、相关文件

- 统一商品记录 Excel: `/Users/dj/Desktop/全域自媒体运营/商品库/内容关联商品记录.xlsx`
- 商品记录管理脚本: `/Users/dj/Desktop/小静的skills/_shared_scripts/append_product_record.py`
- 商品库管理 Skill: `product-catalog`
- 账号阶段管理: 使用 `/account-stage-manager` skill
