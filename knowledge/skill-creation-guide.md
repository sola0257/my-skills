# Skill 创建指南

> 此文档提供创建有效 Skills 的完整指南。在 `.agent/rules/buile-skills.md` 规则中可引用此文档。

## 关于 Skills

Skills 是模块化的自包含包，通过提供专业知识、工作流程和工具来扩展 Claude 的能力。

### Skills 提供什么

1. **专业工作流** - 特定领域的多步骤程序
2. **工具集成** - 与特定文件格式或 API 的使用说明
3. **领域专业知识** - 公司特定知识、模式、业务逻辑
4. **捆绑资源** - 脚本、参考资料和资产

---

## 核心原则

### 简洁为王

上下文窗口是公共资源。Skills 与其他所有内容共享上下文窗口。

**默认假设：Claude 已经非常智能。** 只添加 Claude 没有的上下文。

### 设置适当的自由度

| 自由度 | 适用场景 |
|--------|----------|
| **高自由度** | 多种方法都有效，取决于上下文 |
| **中自由度** | 存在首选模式，但允许一些变化 |
| **低自由度** | 操作易出错，一致性至关重要 |

---

## Skill 目录结构

```
skill-name/
├── SKILL.md (必需)
│   ├── YAML frontmatter (name, description)
│   └── Markdown 指令
└── 可选资源/
    ├── scripts/     - 可执行代码
    ├── references/  - 参考文档
    └── assets/      - 输出文件（模板、图标等）
```

---

## SKILL.md 结构

### Frontmatter (必需)

```yaml
---
name: skill-name
description: "完整描述技能用途和触发条件"
---
```

**description 要点**：
- 包含技能做什么
- 包含何时使用（触发条件）
- 不要在 body 中重复"何时使用"

### Body 结构建议

1. **静默执行协议** (必需)
2. **概述**
3. **执行流程**
4. **输出模板**
5. **Good Case / Anti-Patterns**
6. **错误处理**

---

## 静默执行协议模板

```markdown
## 🚨 静默执行协议（必须遵守）

**执行规则：**
- ❌ **禁止** 请求确认以继续
- ❌ **禁止** 询问"是否需要更多信息"
- ❌ **禁止** 中途停顿等待用户反馈
- ✅ **必须** 一次性生成完整输出
- ✅ **必须** 数据缺失时使用默认值
- ✅ **必须** 遇到错误时静默处理并继续
```

---

## 渐进式披露设计

Skills 使用三级加载系统：

1. **元数据** - 始终在上下文中（~100词）
2. **SKILL.md body** - 技能触发时加载（<5k词）
3. **捆绑资源** - 按需加载（无限）

**关键原则**：保持 SKILL.md 精简（<500行），将详细内容拆分到单独文件。

---

## 禁止创建的文件

- ❌ README.md
- ❌ INSTALLATION_GUIDE.md
- ❌ CHANGELOG.md
- ❌ 任何辅助文档

Skill 只应包含 AI 代理完成工作所需的信息。

---

## 创建流程

1. **理解需求** - 收集具体使用示例
2. **规划内容** - 确定需要的脚本、参考资料、资产
3. **创建技能** - 在 `/Users/dj/Desktop/小静的skills/` 创建目录
4. **编写 SKILL.md** - 遵循上述结构
5. **创建符号链接** - 链接到 `~/.claude/skills/`
6. **测试迭代** - 基于实际使用优化
