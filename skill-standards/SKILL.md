---
name: skill-standards
description: |
  Skill 开发标准规范库 - 所有 Skill 开发和优化的知识库与自动化规则。
  
  核心定位：
  1. 📚 知识库：积累 Skill 开发的规则、模式、最佳实践
  2. 📐 模板库：新建 Skill 时的标准结构模板
  3. 🔄 自动化：在新建/优化/发布 Skill 时自动触发规范检查
  
  ⚠️ 重要：本 Skill 不需要手动调用，它通过 CLAUDE.md 的全局规则自动生效！
license: MIT
version: "2.0"
---

# 📐 Skill 开发标准规范库 v2.0

## 🚨 核心定位（必读）

> **本 Skill 是一个知识库，不是需要手动调用的工具！**
>
> 它通过写入 `CLAUDE.md` 的全局规则，在以下场景**自动触发**：
> - 🆕 新建 Skill 时 → 自动应用标准模板
> - 🔧 优化 Skill 时 → 自动参考规则库
> - ✅ 完成优化后 → 自动提取并记录新模式
> - 📤 发布 Skill 前 → 自动执行自检清单

---

## 📁 目录结构

```
/Users/dj/Desktop/小静的skills/skill-standards/
├── SKILL.md                          # 本文件：定位说明 + 自动化规则
├── knowledge/
│   ├── optimization-rules.md         # 📚 11条优化规则详解
│   ├── learned-patterns.json         # 🧠 学习积累的模式
│   ├── skill-template.md             # 📐 新建 Skill 标准模板
│   └── self-check-list.md            # ✅ 发布前自检清单
└── reports/                          # 📊 审计报告存储
```

---

## 🔄 三大自动化触发规则

### 触发器 1️⃣：新建 Skill 时

**触发条件：** 用户要求创建新 Skill

**自动执行：**
1. 读取 `knowledge/skill-template.md` 获取标准模板
2. 按模板结构生成 SKILL.md
3. 确保包含所有必需章节（静默协议、输出模板、错误处理等）

**规则位置：** 写入 `CLAUDE.md` 的「Skill 开发自动化规范」章节

---

### 触发器 2️⃣：优化 Skill 时

**触发条件：** 用户要求优化/修复某个 Skill

**自动执行：**
1. 读取 `knowledge/optimization-rules.md` 获取规则列表
2. 在优化过程中参考相关规则
3. 确保优化方案符合最佳实践

**规则位置：** 写入 `CLAUDE.md` 的「Skill 开发自动化规范」章节

---

### 触发器 3️⃣：优化完成后

**触发条件：** Skill 优化完成

**自动执行：**
1. 分析本次优化的问题和解决方案
2. 判断是否具有通用性（可抽象为规则）
3. 如果是通用模式，记录到 `knowledge/learned-patterns.json`
4. 当模式使用次数 ≥ 2 且通用性高，自动提升为正式规则

**规则位置：** 写入 `CLAUDE.md` 的「Skill 开发自动化规范」章节

---

### 触发器 4️⃣：发布 Skill 前

**触发条件：** Skill 开发/优化完成，准备交付

**自动执行：**
1. 读取 `knowledge/self-check-list.md` 获取自检清单
2. 逐项检查 Skill 是否符合标准
3. 输出检查报告（通过/警告/错误）
4. 如有严重问题，提示需要修复

**规则位置：** 写入 `CLAUDE.md` 的「Skill 开发自动化规范」章节

---

## 📚 规则库概览

### 11 条核心规则

| ID | 规则名称 | 级别 | 说明 |
|----|----------|------|------|
| R01 | 静默执行协议 | 🔴 严重 | 禁止中途询问确认 |
| R02 | 输出模板完整性 | 🟡 中等 | 必须定义输出格式 |
| R03 | Anti-Patterns 定义 | 🟡 中等 | 必须定义禁止行为 |
| R04 | 临时文件规范 | 🟢 轻微 | 临时文件放 .tmp/ |
| R05 | 错误处理表 | 🟡 中等 | 必须定义错误处理 |
| R06 | Token 成本意识 | 🟡 中等 | 大文本处理需优化 |
| R07 | 知识库引用一致性 | 🔴 严重 | 引用路径必须有效 |
| R08 | 版本历史记录 | 🟢 轻微 | 必须记录版本更新 |
| R09 | 默认值定义 | 🟡 中等 | 必须定义默认值 |
| R10 | Skill 协作声明 | 🟡 中等 | 声明依赖关系 |
| R11 | 组合Skill同步 | 🔴 严重 | 组合与分支必须同步 |

**详细规则说明：** 参见 `knowledge/optimization-rules.md`

---

## 📐 标准模板（快速参考）

新建 Skill 必须包含以下结构：

```markdown
---
name: [skill-name]
description: |
  [Skill 描述]
license: MIT
version: "1.0"
---

# [Skill 名称] v1.0

## 🚨 静默执行协议（必须遵守）
[必需]

## 📋 概述
[必需]

## ⚙️ 配置信息
[必需：路径、API 等]

## 🔄 执行流程
[必需：Step 1, 2, 3...]

## 📄 输出模板
[必需：使用 markdown 代码块]

## ✅ Good Case
[必需：正确示例]

## ❌ Anti-Patterns
[必需：禁止行为]

## 🛠️ 错误处理
[必需：错误处理表]

## 📁 临时文件管理
[推荐]

## 🔗 依赖 Skill
[如有依赖必须声明]

## 📝 版本历史
[必需]
```

**完整模板：** 参见 `knowledge/skill-template.md`

---

## 🧠 学习积累机制

### 模式记录结构

```json
{
  "id": "LP003",
  "created_at": "2026-01-15T11:08:00+08:00",
  "source_skill": "content-production-pipeline",
  "category": "Skill协作",
  "problem": "问题描述",
  "solution": "解决方案",
  "is_universal": true,
  "usage_count": 1,
  "promoted": false
}
```

### 规则提升条件

| 条件 | 阈值 |
|------|------|
| 通用性评估 | 必须为 `universal` |
| 使用次数 | ≥ 2 |
| 适用范围 | 适用于多类 Skills |

**当前学习状态：**
- 总模式数：3
- 已提升为规则：2（LP001 → Pipeline策略, LP003 → R11）

---

## ✅ 发布前自检清单

| # | 检查项 | 必须 |
|---|--------|------|
| 1 | 包含静默执行协议 | ✅ |
| 2 | 包含输出模板 | ✅ |
| 3 | 包含 Anti-Patterns | ✅ |
| 4 | 包含错误处理表 | ✅ |
| 5 | 包含版本历史 | ✅ |
| 6 | 知识库引用有效 | ✅ |
| 7 | 定义默认值 | ⚠️ |
| 8 | 临时文件规范 | ⚠️ |
| 9 | 依赖声明（如有） | ⚠️ |
| 10 | 组合Skill同步（如适用） | ✅ |

**详细自检清单：** 参见 `knowledge/self-check-list.md`

---

## 📝 版本历史

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| v2.0 | 2026-01-15 | **重大重构**：从 skill-optimizer 重新定位为 skill-standards，实现自动化触发机制 |
| v1.1 | 2026-01-15 | 添加规则自学习机制、新增 R11 组合Skill同步规则 |
| v1.0 | 2026-01-15 | 初始版本：10条优化规则、三种执行模式 |
