# 内容生成可视化界面 PRD v1.0

**文档版本**：v1.0
**创建日期**：2026-01-30
**产品负责人**：DJ
**目标用户**：自媒体运营者（自己）

---

## 1. 产品概述

### 1.1 产品定位

**产品名称**：全域内容生成工作台（Content Generation Workbench）

**核心价值**：
- 统一入口，一站式管理所有平台的内容生成
- 可视化界面，替代命令行交互
- 流程可视化，实时显示执行进度
- 历史记录，快速查看已发布内容

### 1.2 问题与解决方案

| 当前问题 | 解决方案 |
|---------|---------|
| 每次都要重复输入相同的信息 | 表单式输入，自动保存常用配置 |
| 不知道哪些话题已经写过 | 实时显示已发布内容，自动去重提醒 |
| 执行流程不透明，不知道进行到哪一步 | 进度条显示，每个步骤实时反馈 |
| 需要记住不同平台的规则 | 智能提示，根据平台自动调整选项 |
| 生成后的内容难以管理 | 内容库管理，支持搜索、筛选、编辑 |

---

## 2. 用户故事

### 2.1 核心用户故事

**Story 1：快速生成单平台内容**
```
作为 自媒体运营者
我想要 通过表单快速输入信息并生成内容
以便 节省重复沟通的时间
```

**Story 2：避免选题重复**
```
作为 自媒体运营者
我想要 在选题时看到已发布的内容
以便 避免重复话题，保持内容新鲜度
```

**Story 3：监控生成进度**
```
作为 自媒体运营者
我想要 实时看到内容生成的进度
以便 了解当前执行到哪一步，预估完成时间
```

**Story 4：管理历史内容**
```
作为 自媒体运营者
我想要 查看和管理所有已生成的内容
以便 快速找到需要的内容，进行二次编辑或发布
```

---

## 3. 功能需求

### 3.1 核心功能模块

#### 模块1：内容生成表单

**功能描述**：
- 替代苏格拉底式提问，使用表单收集信息
- 根据选择的平台，动态显示/隐藏相关字段
- 支持保存常用配置为模板

**字段设计**：

| 字段名 | 类型 | 必填 | 说明 | 动态显示规则 |
|-------|------|------|------|-------------|
| 平台选择 | 单选 | 是 | 小红书/订阅号/服务号/视频号/抖音/快手 | 始终显示 |
| 内容格式 | 单选 | 条件 | 长文/图文 | 仅当平台=订阅号时显示 |
| 视频类型 | 单选 | 条件 | 知识分享/生活感悟 | 仅当平台=视频类时显示 |
| 视频时长 | 单选 | 条件 | 15秒/30秒/1分钟/3分钟 | 仅当平台=视频类时显示 |
| 内容目的 | 单选 | 是 | 涨粉/引流/推销商品/纯干货 | 始终显示 |
| 选题方式 | 单选 | 是 | 用户指定/AI推荐 | 始终显示 |
| 选题内容 | 文本 | 条件 | 用户输入的选题 | 仅当选题方式=用户指定时显示 |
| 商品植入 | 单选 | 是 | 是/否/极少 | 始终显示 |

**交互设计**：
```
┌─────────────────────────────────────┐
│  内容生成表单                        │
├─────────────────────────────────────┤
│                                     │
│  平台选择：                          │
│  ○ 小红书  ○ 订阅号  ○ 服务号       │
│  ○ 视频号  ○ 抖音    ○ 快手         │
│                                     │
│  内容目的：                          │
│  ○ 涨粉（纯干货）                    │
│  ○ 引流（引导关注）                  │
│  ○ 推销商品（直接转化）              │
│  ○ 纯干货分享（无商业目的）          │
│                                     │
│  选题方式：                          │
│  ○ 用户指定  ○ AI推荐               │
│                                     │
│  [如果选择"用户指定"]                │
│  选题内容：                          │
│  ┌─────────────────────────────┐   │
│  │ 请输入选题...                │   │
│  └─────────────────────────────┘   │
│                                     │
│  商品植入：                          │
│  ○ 是  ○ 否  ○ 极少（1-2处）        │
│                                     │
│  [保存为模板]  [开始生成]            │
└─────────────────────────────────────┘
```

---

#### 模块2：已发布内容展示

**功能描述**：
- 实时显示最近30天的已发布内容
- 按平台分类显示
- 高亮显示高频话题
- 支持搜索和筛选

**界面设计**：
```
┌─────────────────────────────────────┐
│  已发布内容（最近30天）              │
├─────────────────────────────────────┤
│  平台筛选：[全部▼] [小红书] [订阅号] │
│  搜索：[_________________] [🔍]     │
├─────────────────────────────────────┤
│  📊 高频话题统计：                   │
│  ┌─────────────────────────────┐   │
│  │ 🔥 蝴蝶兰养护：3篇            │   │
│  │ 🔥 仙客来养护：2篇            │   │
│  │    年宵花选购：1篇            │   │
│  └─────────────────────────────┘   │
│                                     │
│  📝 内容列表：                       │
│  ┌─────────────────────────────┐   │
│  │ 2026-01-29 | 小红书           │   │
│  │ 蝴蝶兰黄叶的3个原因           │   │
│  │ [查看] [编辑] [删除]          │   │
│  ├─────────────────────────────┤   │
│  │ 2026-01-28 | 订阅号           │   │
│  │ 仙客来冬季养护指南           │   │
│  │ [查看] [编辑] [删除]          │   │
│  └─────────────────────────────┘   │
└─────────────────────────────────────┘
```

---

#### 模块3：选题推荐

**功能描述**：
- 当用户选择"AI推荐"时显示
- 结合营销日历和去重分析
- 推荐3个选题，每个选题显示详细信息
- 支持一键选择

**界面设计**：
```
┌─────────────────────────────────────┐
│  AI 推荐选题（基于1月31日）          │
├─────────────────────────────────────┤
│  ✅ 选题1：立春前的植物准备工作      │
│  ┌─────────────────────────────┐   │
│  │ 📅 时间节点：距离立春还有4天  │   │
│  │ 🎯 差异化：未发布过"立春"内容 │   │
│  │ 📈 预期效果：涨粉（实用干货）  │   │
│  │ [选择此选题]                  │   │
│  └─────────────────────────────┘   │
│                                     │
│  ○ 选题2：办公室绿植选择指南        │
│  ┌─────────────────────────────┐   │
│  │ 📅 时间节点：节后复工季        │   │
│  │ 🎯 差异化：场景化内容，未发布  │   │
│  │ 📈 预期效果：涨粉+引流         │   │
│  │ [选择此选题]                  │   │
│  └─────────────────────────────┘   │
│                                     │
│  ○ 选题3：多肉植物春季养护          │
│  ┌─────────────────────────────┐   │
│  │ 📅 时间节点：春季来临          │   │
│  │ 🎯 差异化：品类差异，未发布    │   │
│  │ 📈 预期效果：涨粉              │   │
│  │ [选择此选题]                  │   │
│  └─────────────────────────────┘   │
│                                     │
│  [返回修改]  [确认选题]              │
└─────────────────────────────────────┘
```

---

#### 模块4：生成进度显示

**功能描述**：
- 实时显示8个步骤的执行进度
- 每个步骤显示状态（待执行/执行中/已完成/失败）
- 显示当前步骤的详细信息
- 支持查看日志

**界面设计**：
```
┌─────────────────────────────────────┐
│  内容生成中...                       │
├─────────────────────────────────────┤
│  ✅ Step 0: 苏格拉底式提问           │
│     已完成 - 收集了6项信息           │
│                                     │
│  ✅ Step 1: 检查已发布内容           │
│     已完成 - 分析了32篇内容          │
│                                     │
│  ✅ Step 2: 确定选题                 │
│     已完成 - 选题：办公室绿植指南    │
│                                     │
│  🔄 Step 3: 知识搜索                 │
│     执行中 - 正在搜索网络知识...     │
│     ┌─────────────────────────┐     │
│     │ ████████░░░░░░░░░░ 40%  │     │
│     └─────────────────────────┘     │
│                                     │
│  ⏳ Step 4: 商品匹配                 │
│  ⏳ Step 5: 生成内容                 │
│  ⏳ Step 6: 生成配图                 │
│  ⏳ Step 7: 保存文件                 │
│  ⏳ Step 8: 推送草稿箱               │
│                                     │
│  [查看详细日志]  [取消生成]          │
└─────────────────────────────────────┘
```

---

#### 模块5：生成结果展示

**功能描述**：
- 显示生成的内容预览
- 显示文件位置和统计信息
- 支持直接编辑
- 提供下一步操作建议

**界面设计**：
```
┌─────────────────────────────────────┐
│  🎉 内容生成完成！                   │
├─────────────────────────────────────┤
│  📄 内容预览：                       │
│  ┌─────────────────────────────┐   │
│  │ 标题：办公室绿植选择指南      │   │
│  │                              │   │
│  │ 摘要：节后复工，给办公室添点  │   │
│  │ 绿意。本文推荐5种适合办公室   │   │
│  │ 的绿植...                    │   │
│  │                              │   │
│  │ [查看完整内容]               │   │
│  └─────────────────────────────┘   │
│                                     │
│  📊 内容统计：                       │
│  - 字数：1200字                     │
│  - 配图：12张                       │
│  - 商品植入：无                     │
│                                     │
│  📁 文件位置：                       │
│  /Users/dj/Desktop/全域自媒体运营/  │
│  内容发布/发布记录/2026/小红书/     │
│  2026-01-31_办公室绿植选择指南/     │
│                                     │
│  ✅ 下一步操作：                     │
│  [手动发布到小红书]                 │
│  [生成其他平台内容]                 │
│  [返回首页]                         │
└─────────────────────────────────────┘
```

---

### 3.2 辅助功能

#### 功能1：模板管理
- 保存常用配置为模板
- 快速加载模板
- 编辑和删除模板

#### 功能2：营销日历集成
- 显示当前日期的营销热点
- 提供选题建议
- 支持查看全年日历

#### 功能3：账号状态管理
- 显示各平台的粉丝数和账号阶段
- 根据账号阶段自动调整内容策略
- 支持更新粉丝数

#### 功能4：数据统计
- 显示本月生成的内容数量
- 按平台分类统计
- 显示高频话题

---

## 4. 技术方案

### 4.1 技术栈选择

**方案A：Web应用（推荐）**

| 技术 | 选择 | 理由 |
|------|------|------|
| 后端框架 | Flask | 轻量级，易于集成现有 Python 脚本 |
| 前端框架 | Vue.js 3 | 响应式，组件化，易于维护 |
| UI 组件库 | Element Plus | 成熟的 Vue 3 组件库，开箱即用 |
| 状态管理 | Pinia | Vue 3 官方推荐 |
| 通信方式 | WebSocket | 实时推送生成进度 |
| 数据存储 | SQLite | 轻量级，无需额外配置 |

**方案B：桌面应用**

| 技术 | 选择 | 理由 |
|------|------|------|
| 框架 | Electron | 跨平台，使用 Web 技术 |
| 前端 | Vue.js 3 | 同方案A |
| 后端 | Node.js + Python | Node.js 作为桥接，调用 Python 脚本 |

**推荐**：方案A（Web应用），因为：
- 开发速度快
- 易于调试和维护
- 可以在任何设备上访问
- 未来可以扩展为多用户版本

---

### 4.2 系统架构

```
┌─────────────────────────────────────┐
│         前端（Vue.js 3）             │
│  ┌─────────┐  ┌─────────┐           │
│  │ 表单组件 │  │ 进度组件 │           │
│  └─────────┘  └─────────┘           │
│  ┌─────────┐  ┌─────────┐           │
│  │ 列表组件 │  │ 预览组件 │           │
│  └─────────┘  └─────────┘           │
└─────────────────────────────────────┘
              ↕ (HTTP/WebSocket)
┌─────────────────────────────────────┐
│         后端（Flask）                │
│  ┌─────────────────────────────┐   │
│  │  API 路由层                  │   │
│  │  - /api/generate             │   │
│  │  - /api/history              │   │
│  │  - /api/topics               │   │
│  └─────────────────────────────┘   │
│  ┌─────────────────────────────┐   │
│  │  业务逻辑层                  │   │
│  │  - WorkflowManager           │   │
│  │  - ContentChecker            │   │
│  │  - TopicRecommender          │   │
│  └─────────────────────────────┘   │
│  ┌─────────────────────────────┐   │
│  │  Skill 调用层                │   │
│  │  - SkillInvoker              │   │
│  └─────────────────────────────┘   │
└─────────────────────────────────────┘
              ↕
┌─────────────────────────────────────┐
│      现有 Skills（Python）           │
│  - wechat-content-generator         │
│  - xiaohongshu-content-generator    │
│  - video-script-generator           │
└─────────────────────────────────────┘
```

---

### 4.3 核心接口设计

#### API 1: 提交生成任务

**请求**：
```http
POST /api/generate
Content-Type: application/json

{
  "platform": "xiaohongshu",
  "purpose": "涨粉",
  "topic_mode": "ai_recommend",
  "topic_content": "",
  "product_placement": "否"
}
```

**响应**：
```json
{
  "task_id": "task_20260130_001",
  "status": "started",
  "message": "任务已创建，开始执行"
}
```

#### API 2: 获取任务进度

**请求**：
```http
GET /api/task/{task_id}/progress
```

**响应**：
```json
{
  "task_id": "task_20260130_001",
  "status": "running",
  "current_step": 3,
  "total_steps": 8,
  "step_name": "知识搜索",
  "step_progress": 40,
  "logs": [
    "正在搜索网络知识...",
    "找到5篇相关文章"
  ]
}
```

#### API 3: 获取已发布内容

**请求**：
```http
GET /api/history?platform=xiaohongshu&days=30
```

**响应**：
```json
{
  "total": 32,
  "high_frequency_topics": [
    {"topic": "蝴蝶兰养护", "count": 3},
    {"topic": "仙客来养护", "count": 2}
  ],
  "contents": [
    {
      "date": "2026-01-29",
      "platform": "小红书",
      "title": "蝴蝶兰黄叶的3个原因",
      "path": "/Users/dj/Desktop/..."
    }
  ]
}
```

#### API 4: 获取选题推荐

**请求**：
```http
POST /api/topics/recommend
Content-Type: application/json

{
  "platform": "xiaohongshu",
  "purpose": "涨粉",
  "exclude_topics": ["蝴蝶兰", "仙客来"]
}
```

**响应**：
```json
{
  "recommendations": [
    {
      "id": 1,
      "title": "立春前的植物准备工作",
      "time_relevance": "距离立春还有4天",
      "differentiation": "未发布过'立春'相关内容",
      "expected_effect": "涨粉（实用干货）"
    }
  ]
}
```

---

## 5. 开发计划

### 5.1 MVP（最小可行产品）

**目标**：验证核心功能，快速上线

**包含功能**：
- ✅ 内容生成表单
- ✅ 已发布内容展示（简化版）
- ✅ 生成进度显示
- ✅ 生成结果展示

**不包含功能**：
- ❌ 选题推荐（手动输入选题）
- ❌ 模板管理
- ❌ 数据统计
- ❌ 内容编辑

**开发时间**：3-5天

---

### 5.2 迭代计划

**迭代1（MVP）**：
- Day 1: 搭建项目框架，设计数据库
- Day 2: 实现后端 API（生成任务、进度查询）
- Day 3: 实现前端表单和进度显示
- Day 4: 集成现有 Skills，测试
- Day 5: 优化和部署

**迭代2（完整版）**：
- 增加选题推荐功能
- 增加已发布内容的详细分析
- 增加模板管理
- 增加内容编辑功能

**迭代3（增强版）**：
- 增加数据统计和可视化
- 增加多用户支持
- 增加内容排期功能
- 增加自动发布功能

---

## 6. 原型设计

### 6.1 首页布局

```
┌────────────────────────────────────────────────────────┐
│  全域内容生成工作台                    [设置] [帮助]    │
├────────────────────────────────────────────────────────┤
│                                                        │
│  ┌──────────────────┐  ┌──────────────────────────┐  │
│  │  快速生成         │  │  营销日历                 │  │
│  │                  │  │  📅 1月31日               │  │
│  │  [选择平台]      │  │  - 距离立春还有4天        │  │
│  │  [填写信息]      │  │  - 节后复工季             │  │
│  │  [开始生成]      │  │  [查看详情]              │  │
│  └──────────────────┘  └──────────────────────────┘  │
│                                                        │
│  ┌────────────────────────────────────────────────┐  │
│  │  已发布内容（最近30天）                         │  │
│  │  ┌──────────────────────────────────────────┐  │  │
│  │  │ 📊 高频话题：蝴蝶兰(3) 仙客来(2)          │  │  │
│  │  └──────────────────────────────────────────┘  │  │
│  │  ┌──────────────────────────────────────────┐  │  │
│  │  │ 2026-01-29 | 小红书 | 蝴蝶兰黄叶的3个原因 │  │  │
│  │  │ 2026-01-28 | 订阅号 | 仙客来冬季养护指南  │  │  │
│  │  │ ...                                       │  │  │
│  │  └──────────────────────────────────────────┘  │  │
│  └────────────────────────────────────────────────┘  │
│                                                        │
│  ┌────────────────────────────────────────────────┐  │
│  │  账号状态                                       │  │
│  │  小红书：0粉（起号期） | 订阅号：0粉（起号期）  │  │
│  │  [更新粉丝数]                                   │  │
│  └────────────────────────────────────────────────┘  │
│                                                        │
└────────────────────────────────────────────────────────┘
```

---

## 7. 成功指标

### 7.1 核心指标

| 指标 | 目标 | 说明 |
|------|------|------|
| 生成成功率 | >95% | 每次生成任务的成功率 |
| 平均生成时间 | <5分钟 | 从提交到完成的时间 |
| 选题重复率 | <10% | 新生成内容与已发布内容的重复率 |
| 用户满意度 | >4.5/5 | 用户对界面和流程的满意度 |

### 7.2 效率提升

| 对比项 | 当前（命令行） | 目标（可视化界面） | 提升 |
|-------|--------------|------------------|------|
| 信息输入时间 | 5-10分钟 | 1-2分钟 | 70% |
| 选题去重时间 | 5分钟 | 实时显示 | 100% |
| 进度了解 | 不透明 | 实时显示 | - |
| 历史内容查找 | 5分钟 | 10秒 | 97% |

---

## 8. 风险与挑战

### 8.1 技术风险

| 风险 | 影响 | 应对措施 |
|------|------|---------|
| Skills 调用失败 | 高 | 增加错误处理和重试机制 |
| WebSocket 连接不稳定 | 中 | 增加心跳检测和自动重连 |
| 大文件传输慢 | 中 | 使用流式传输和压缩 |

### 8.2 用户体验风险

| 风险 | 影响 | 应对措施 |
|------|------|---------|
| 界面复杂，学习成本高 | 高 | 简化界面，增加引导 |
| 生成时间长，用户等待 | 中 | 显示详细进度，增加趣味性 |
| 移动端体验差 | 低 | 响应式设计，适配移动端 |

---

## 9. 后续规划

### 9.1 短期（1-3个月）

- 完成 MVP 开发和测试
- 收集用户反馈，优化界面
- 增加选题推荐和模板管理功能

### 9.2 中期（3-6个月）

- 增加数据统计和可视化
- 增加内容排期功能
- 增加自动发布功能（部分平台）

### 9.3 长期（6-12个月）

- 支持多用户（团队协作）
- 增加 AI 辅助优化功能
- 开发移动端 App
- 集成更多平台（B站、知乎等）

---

## 10. 附录

### 10.1 参考资料

- 现有 Skills 文档
- 统一工作流文档
- 用户反馈记录

### 10.2 术语表

| 术语 | 定义 |
|------|------|
| 苏格拉底式提问 | 通过一系列问题引导用户提供完整信息 |
| 静默执行 | 收集信息后，不再请求确认，自动执行 |
| 去重检查 | 检查已发布内容，避免选题重复 |
| 账号阶段 | 根据粉丝数划分的账号发展阶段 |

---

**文档状态**：待评审
**下一步**：评审通过后，开始 MVP 开发
